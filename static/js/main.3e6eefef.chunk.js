(this["webpackJsonpsearch-react"]=this["webpackJsonpsearch-react"]||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){e.exports=a(31)},24:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(13),o=a.n(l),s=a(8),i=(a(24),a(32)),r=a(3);function u(e){let{onAnimeSelect:t}=e;const[a,l]=Object(n.useState)(""),[o,s]=Object(n.useState)([]),[u,m]=Object(n.useState)(!1),[d,p]=Object(n.useState)(!1),E=Object(r.o)(),g=Object(n.useRef)(null),h=async e=>{const t=await(async(e,t)=>{if(!e)return void s([]);p(!0);const a="".concat("https://api.consumet.org/anime/gogoanime/").concat(e,"?page=").concat(t);g.current=i.a.CancelToken.source();try{const{data:e}=await i.a.get(a,{cancelToken:g.current.token});return e}catch(n){i.a.isCancel(n)?console.log("Request canceled"):(console.error(n.message),s([]))}finally{p(!1)}})(e,1);s((null===t||void 0===t?void 0:t.results)||[]),m(!0)};return c.a.createElement("div",{className:"search-container"},c.a.createElement("div",{className:"search-bar"},c.a.createElement("input",{type:"text",placeholder:"Enter anime title",value:a,onChange:e=>{const t=e.target.value;l(t),h(t)}}),c.a.createElement("button",{onClick:()=>h(a),disabled:d},d?"Searching...":"Search")),c.a.createElement("div",{className:"search-results"},d&&c.a.createElement("div",{className:"loading-spinner"},"Loading..."),u&&0===o.length&&!d&&c.a.createElement("div",{className:"no-result-message"},"No Result"),o.map(e=>c.a.createElement("div",{key:e.id,className:"search-results-item"},c.a.createElement("h2",null,e.title),c.a.createElement("p",null,"ID: ",e.id),c.a.createElement("img",{src:e.image,alt:"".concat(e.title," Poster")}),c.a.createElement("p",null,"Release Date: ",e.releaseDate||"N/A"),c.a.createElement("p",null,"Sub or Dub: ",e.subOrDub),c.a.createElement("button",{className:"select-anime-btn",onClick:()=>{return a=e,console.log("Selected anime: ".concat(a.title," (ID: ").concat(a.id,")")),t(a.id),void E("/episodes/".concat(a.id));var a}},"Select Anime")))))}var m=a(14),d=a.n(m);a(12);var p=function(e){let{selectedEpisode:t,onNextEpisode:a}=e;const[l,o]=Object(n.useState)(null),[s,r]=Object(n.useState)("1080p"),u=Object(n.useMemo)(()=>({"360p":0,"480p":1,"720p":2,"1080p":3,Default:3}),[]);return Object(n.useEffect)(()=>{(async()=>{try{if(t){const e=t.id,a="gogocdn",n="https://api.consumet.org/anime/gogoanime/watch/".concat(e,"?server=").concat(a),c=await i.a.get(n);if(200!==c.status)throw new Error("Failed to fetch data. Status: ".concat(c.status));{const e=c.data.sources,t=u[s];if(e[t]&&e[t].isM3U8)o(e[t].url);else{console.error("Selected quality source not found. Fallback to default.");const t=e[3];t&&t.isM3U8?(o(t.url),r("1080p")):console.error("No default source available")}}}}catch(e){console.error(e)}})()},[t,s,u]),c.a.createElement("div",{className:"App"},l?c.a.createElement("div",null,c.a.createElement(d.a,{url:l,controls:!0,width:"100%",onEnded:()=>{a()}}),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"quality"},"Select Quality: "),c.a.createElement("select",{id:"quality",value:s,onChange:e=>{const t=e.target.value;r(t)}},["360p","480p","720p","1080p","Default"].map((e,t)=>c.a.createElement("option",{key:t,value:e},e))))):c.a.createElement("p",null,"Loading video..."))};a(29),a(30);function E(){const{animeId:e}=Object(r.q)(),[t,a]=Object(n.useState)([]),[l,o]=Object(n.useState)(null),[s,u]=Object(n.useState)(null),m=()=>{const e=(s?s.index:-1)+1;if(e<t.length){const a=t[e];o(a),u(a)}};Object(n.useEffect)(()=>{(async()=>{try{const t="https://api.consumet.org/anime/gogoanime/info/".concat(e),n=await i.a.get(t);if(200!==n.status)throw new Error("Failed to fetch episode list. Status: ".concat(n.status));a(n.data.episodes.map((e,t)=>({...e,index:t})))}catch(t){console.error(t)}})()},[e]);return c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Anime Episode List for ",e),c.a.createElement("div",{className:"content-wrapper"},l&&c.a.createElement("div",{className:"video-player"},c.a.createElement("h2",null,"Selected Episode: ",l.title," (",l.id,")"),c.a.createElement("p",null,l.description),c.a.createElement(p,{selectedEpisode:l,onNextEpisode:m})),c.a.createElement("div",{className:"episode-list-container",style:{height:"300px",overflowY:"auto"}},c.a.createElement("div",{className:"episode-list"},t.map(e=>c.a.createElement("button",{className:"episode-button ".concat((null===l||void 0===l?void 0:l.id)===e.id?"selected":""),onClick:()=>(e=>{console.log("Clicked on episode: ".concat(e.title," (ID: ").concat(e.id,")")),o(e),u(e)})(e),key:e.id},e.index+1," ",e.title)))),c.a.createElement("div",{className:"episode-navigation"},l&&c.a.createElement("button",{className:"episode-button",onClick:m},"Next Episode"))))}var g=function(){const[,e]=Object(n.useState)(null);return c.a.createElement("div",null,c.a.createElement(r.c,null,c.a.createElement(r.a,{path:"shig/",element:c.a.createElement(u,{onAnimeSelect:t=>{e(t)}})}),c.a.createElement(r.a,{path:"episodes/:animeId",element:c.a.createElement(E,null)})))};var h=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:l,getTTFB:o}=t;a(e),n(e),c(e),l(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,null,c.a.createElement(g,null)))),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.3e6eefef.chunk.js.map